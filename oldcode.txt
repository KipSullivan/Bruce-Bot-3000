/*
const dotenv = require('dotenv')
dotenv.config()

const { App } = require('@slack/bolt');
const bot = new App({
    token: process.env.BOT_TOKEN,
    signingSecret: process.env.SIGNING_SECRET,
    name: 'Bruce Bot 3000'
});


async function schedule(client, channel_id) {
    const tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    tomorrow.setHours(8, 0, 0);
    const t = await getPhraseAndHoliday(tomorrow);

    const epochTime = Math.round(Date.now() / 1000);
    const endTime = epochTime + 100;
    try {
        // Call chat.scheduleMessage with the built-in client
        const result = await client.chat.scheduleMessage({
            channel: channel_id,
            post_at: endTime,
            text: t
        });
        console.log(result);
        
    }
    catch (error) {
        console.error(error);
    }
}

bot.message('I want reminders!', async ({ message, say, client }) => {
    // say() sends a message to the channel where the event was triggered
    if (message.channel_id == client.im.channel_id) {
        await say("You've signed up to receive Bruce Bot reminders!");
        const t = await getPhraseAndHoliday(new Date());
        await say(t);
        schedule(client, message.channel);
    }   
});


(async () => {
    await bot.start(3000); // Launch the bot
    console.log("Bolt app is running!");
})();


//open(url);


*/